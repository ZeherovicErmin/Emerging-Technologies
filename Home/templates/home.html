<!DOCTYPE html>
<html lang="en">
<head>
    <link rel="stylesheet" href="style.css">
    <meta charset="UTF-8">
    <title>Download / Email / Print your Receipt!</title>

</head>
<body>

    <h1>Wellcome to our application</h1>

    <br>

        <a href="http://127.0.0.1:80/">Create Account</a>



         <a href="http://127.0.0.1:11000/"> Login</a>

<!--    <button onclick="createAccount()">Create Account</button>-->
<!--    <button onclick="login()">login</button>-->
<!--    <input type="text" value="" name="userID" id="userID">-->
<!--    <button onclick="getUserInfo()">User details</button>-->
<!--    <br>-->

<!--    <div id="tableContainer"></div>-->

<script>


function getUserInfo(){


    var inputElement = document.getElementById('userID');
    var tableData = "<table border='1'><tr><th>Order ID</th><th>User ID</th><th>Quantity</th><th>Total Price</th><th>Product Name</th><th>Product Price</th><th>Product Rating</th></tr>";

 const requestOptions = {
        method: "GET",
        headers: {
        "Content-Type": "application/json",

    }

    };
    var userID = inputElement.value;
            const url = 'http://127.0.0.1:80/user/orderDetails/'+userID;
            console.log(url);

            fetch(url,requestOptions)
                .then((response) => {
                 if (!response.ok) {
                    throw new Error(`Network response was not ok: ${response.status} ${response.statusText}`);
                     }
                return response.json()
                })
                .then(data => {
                console.log(data);

    for (var i = 0; i < data.length; i++) {
        var order = data[i];
        var products = order.products;

        for (var j = 0; j < products.length; j++) {
            var product = products[j];

            tableData += "<tr>";
            tableData += "<td>" + order.orderID + "</td>";
            tableData += "<td>" + order.userID + "</td>";
            tableData += "<td>" + order.quantity + "</td>";
            tableData += "<td>" + order.Total_price + "</td>";
            tableData += "<td>" + product.productName + "</td>";
            tableData += "<td>" + product.productPrice + "</td>";
            tableData += "<td>" + product.productRating + "</td>";
            tableData += "</tr>";
        }
    }

    tableData += "</table>";
    document.getElementById('tableContainer').innerHTML = tableData;

                })
                .catch(error => {
                    console.error('Error fetching data:', error);
                });

}

    function createAccount(){

             const requestOptions = {
        method: "GET",
        headers: {
        "Content-Type": "application/json",

    }



    }

    function login(){

    }



    </script>

</body>
</html>
